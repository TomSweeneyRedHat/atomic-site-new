{{define "title"}}Atomic Host and Docker Survey{{end}}
{{define "body"}}

<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
Atomic Host and Docker Survey
</h2>
<p class='post-meta'>
<span class='byline'>
by
</span>
<span class='author vcard'>
<a href="/blog/author/jberkus/">Josh Berkus</a>
</span>
&ndash;
<time class='published' datetime='2017-11-08T14:00:00Z'>
Wednesday  8 November 2017
</time>
</p>
</header>
<section class='post-content entry-content'>
<p>The Fedora Atomic Working Group needs your help to decide how Docker will be included in Fedora Atomic Host in the future.  If you&rsquo;re already familiar with this issue, you can <a href="https://goo.gl/forms/2WTX3EHTX6IxVldp1">skip straight to the survey</a>.  Otherwise, read on for some background.</p>

<p></p>

<p>Currently, the Docker container runtime and tools ship as a part of Fedora Atomic Host in the base cloud image and ISO.  Docker is also part of the base OSTree and thus gets included in all atomic updates to the system (<code>atomic host upgrade</code>).  This has clearly been useful to a lot of people, but there&rsquo;s some problems with it:</p>

<ul>
<li>Docker and its dependencies add around 180MB to the base image;</li>
<li>Upstream updates to Docker increase the number of updates users need to apply to the base OS;</li>
<li>No one version of Docker satisfies all users;</li>
<li>Some users don&rsquo;t want Docker at all, they want CRI-O or containerd or just runc;</li>
<li>Docker upgrades complicate Fedora Atomic&rsquo;s plan to move to rolling upgrades.</li>
</ul>

<p>The potential alternative to this is removing Docker from the base image and OSTree, and instead having users install it as a system container.  This would mean, on each new Fedora Atomic Host, adding the extra step of running:</p>
<pre class="highlight plaintext"><code>atomic install --system docker&#x000A;</code></pre>

<p>&hellip; for each system.  Updates to Docker would also be on an independent cycle from the base OS, which is both extra work for admins, and an advantage for those who want to update Docker frequently.  There are some other disadvantages to moving to Docker in system containers:</p>

<ul>
<li>The upgrade from Fedora 27 Atomic Host to Fedora 28 Atomic Host would be more complicated;</li>
<li>It would be up to the user to keep kernel versions and Docker versions compatible;</li>
<li>Rollback of a bad Docker upgrade would require more steps;</li>
<li>Admins who have Atomic Host in production will need to update all their system automation.</li>
</ul>

<p>Given this tradeoff, we need to know how this possible change would affect Atomic Host users.  Will it make life simpler for you, not affect you at all, or blow up your infrastructure and cause you to migrate to RancherOS?  Let us know by filling out our <a href="#">survey</a> on your Docker and Atomic Host usage.</p>

<p>If you want to express additional opinions about this change, you can talk to Atomic Host developers directly, either on channel <a href="https://webchat.freenode.net/">#atomic on irc.freenode.net</a>, or on email at <a href="https://lists.projectatomic.io/mailman/listinfo/atomic-devel">atomic-devel@projectatomic.io</a>.  Or you can comment on <a href="https://pagure.io/atomic-wg/issue/360">this Pagure issue</a>.</p>

<p><em>Note that we are currently only discussing this change for Fedora Atomic Host.  CentOS Atomic Host and Red Hat Atomic host might or might not adopt the same change at some later date, depending on their strategies.  To support this change, we would also simplify the commands for installing system containers.</em></p>

</section>
<footer class='post-meta'>
<div class='tags'>
Tags:
<ul class='taglist'>
<li><a href="/blog/tag/atomic/">atomic</a></li>
<li><a href="/blog/tag/cri-o/">CRI-O</a></li>
<li><a href="/blog/tag/docker/">docker</a></li>
<li><a href="/blog/tag/fedora/">fedora</a></li>
</ul>
</div>

<p>
<small>Share this post:</small>
<span class='btn-group' id='social_share'>
<a class='btn btn-default btn-xs' href='http://twitter.com/share?text=yourtext&amp;url=http://www.projectatomic.io/blog/2017/11/docker-usage-survey/' role='button' title='Twitter'>
<i class='fa fa-twitter'></i>
Twitter
</a>
<a class='btn btn-default btn-xs' href='http://www.facebook.com/sharer.php?u=http://www.projectatomic.io/blog/2017/11/docker-usage-survey/' role='button' title='Facebook'>
<i class='fa fa-facebook'></i>
Facebook
</a>
<a class='btn btn-default btn-xs' href='https://plus.google.com/share?url=http://www.projectatomic.io/blog/2017/11/docker-usage-survey/' role='button' title='Google'>
<i class='fa fa-google-plus'></i>
Google+
</a>
</span>
</p>

</footer>
</article>

{{end}}